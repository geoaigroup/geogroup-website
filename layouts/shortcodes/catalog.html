<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
<script src="https://unpkg.com/@turf/turf@6/turf.min.js"></script>
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.4.3/mapbox-gl-draw.js"></script>
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.4.3/mapbox-gl-draw.css"
    type="text/css">


<hr>

<div class="d-flex justify-content-between flex-wrap" id="main_cards_body">

</div>


<script src="https://unpkg.com/supercluster@8.0.0/dist/supercluster.min.js"></script>

<script>
    const _0x4af423=_0x1119;(function(_0xcd80ab,_0xdc1e){const _0x1e55d5=_0x1119,_0x116643=_0xcd80ab();while(!![]){try{const _0x1ae560=-parseInt(_0x1e55d5(0x29f))/0x1+parseInt(_0x1e55d5(0x235))/0x2+parseInt(_0x1e55d5(0x2a4))/0x3*(parseInt(_0x1e55d5(0x25c))/0x4)+-parseInt(_0x1e55d5(0x272))/0x5*(parseInt(_0x1e55d5(0x299))/0x6)+-parseInt(_0x1e55d5(0x263))/0x7+-parseInt(_0x1e55d5(0x1d7))/0x8+parseInt(_0x1e55d5(0x1d8))/0x9;if(_0x1ae560===_0xdc1e)break;else _0x116643['push'](_0x116643['shift']());}catch(_0x1027ba){_0x116643['push'](_0x116643['shift']());}}}(_0xda58,0xd3d11));function _0xda58(){const _0x3ae582=['clientCluster','innerHTML','?zoom=','lng','#ffa657','extend','innerWidth','getElementById','getNorthEast','addGeoLocator','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id\x20=\x20\x27','Selected\x20area:\x20','addDrawing\x20First','length','clientFetcher','<div\x20class=\x20\x22text-center\x20w-100\x20my-2\x20\x22>The\x20Selected\x20Polygon\x20Area\x20is\x20<span\x20class=\x22text-info\x22\x20>','2750874JxxqlX','https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js','clusterLoadButton','&year=2023','\x22\x20target=\x27_blank\x27\x20class=\x22text-decoration-none\x20btn\x20btn-primary\x22>Open\x20Up\x20the\x20</a></div>','Load\x20Cluster\x20Map','stepadded','btn\x20w-100\x20btn-success\x20p-2','map2','timelabel\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22','error','setCache','DIN\x20Offc\x20Pro\x20Medium','features','&year=2019','addFullScreen','pk.eyJ1IjoibWhkMTIzbXN3aSIsImEiOiJjamp0azg5OHAyaGIxM3Fvbjc0b3pvZ2VpIn0.vmB_VWu_ewHeNBtoEtdt7Q','cache_number','drawer\x27\x20></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x27','point_count_abbreviated','LN2','https://geoai.cnrs.edu.lb/geoaigeoserver/static/deja_clustered/lebanon_6.json','2017','moveend','Arial\x20Unicode\x20MS\x20Bold','setData','<div\x20class=\x20\x22text-center\x20w-100\x20my-2\x20\x22><a\x20href=\x22','drawer','#e51e1e','addDrawing','selector\x27\x20></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22card-title\x22>','#11b4da','btn\x20w-100\x20btn-info\x20text-white\x20p-2','serverCluster','SetUnclustered','area','className','reduce','timelabel','4zvUEXk','geojson','LngLatBounds','Select\x27\x20aria-label=\x22Slect\x20Layer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22dark-v11\x22\x20selected>Dark</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22light-v11\x22\x20>Light</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22streets-v12\x22\x20>Streets</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22outdoors-v12\x22\x20>Outdoors</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22satellite-streets-v12\x22\x20>Satellite</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','addStep','join','draw','7958846EDmmBA','calculateZoom','coordinates','setMaxBounds','input','setLngLat','DownloadDrawingArea','setLayoutProperty','source_url','step','getEast','centroids','title','Point','catch','170XSUCMi','addTimeStep','cluster-count','addStyleSelector','lat','#69c0ff','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-100\x20text-center\x20p-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-primary\x22\x20type=\x22button\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22spinner-border\x20spinner-border-sm\x22\x20role=\x22status\x22\x20aria-hidden=\x22true\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Loading\x20data...\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','disabled','setSourceUrlParam','steps_with_time','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22card-text\x22>','sin','circle_color','\x22\x20step=\x221\x22\x20value=\x220\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','draw.selectionchange','ScaleControl','height','json','setMaxZoom','getMap','#FFFFFF','main_cards_body','getNorth','https://geoai.cnrs.edu.lb/geoaigeoserver','selector','FullscreenControl','loadMap','declared','https://geoai.cnrs.edu.lb/geoaigeoserver/static/deja_clustered/lebanon_9.json','getZoom','Error\x20fetching\x20centroids\x20from\x20GeoServer:','https://geoai.cnrs.edu.lb/geoaigeoserver/wheat','/1200x1200?access_token=','setStyle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20w-100\x22\x20style=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x27','cards_container_id','slider','idle','setFinal','2796WmsgNy','fetchCentroids','addControl','#fff','token','&year=2018','911717glPHoJ','push','circle','&bbox=','accessToken','3882807cWRNLF','2019','min','width','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20id=\x22','forEach','beforeend','visible','printCard','cache_loaded','2023','Good\x20lad\x20don\x27t\x20apply\x20before\x20adding\x20a\x20step\x20and\x20the\x20finals','clusters','9608248ybFSXJ','13171185JwSmjc','https://geoai.cnrs.edu.lb/geoaigeoserver/static/deja_clustered/lebanon_7.json','loading\x20Cache','Load','insertAdjacentHTML','good\x20lad,\x20set\x20the\x20caches\x20from\x20lower\x20zoom\x20level\x20to\x20the\x20highest\x20','addSource','GeolocateControl','\x20square\x20meters','fetchClusters','2020','symbol','https://geoai.cnrs.edu.lb/geoaigeoserver/static/deja_clustered/lebanon_10.json','getSource','Load\x27></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','source','onchange','sort','loader\x27\x20></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x27','log','PolygonArea','visibility','cache_max_zoom','addLayer','setSourceUrl','finaladded','url_additional_parameters','circle_radius','target','geometry','FeatureCollection','cache','Map','Loading\x20...','container','addScale','point_count','getBounds','description','unclustered','then','\x20square\x20meters</span></div>','map_container','The\x20first\x20Lebanese\x20Wheat\x20Map\x20completely\x20autonomously\x20generated\x20using\x20Deep\x20Learning\x20Models\x20By\x20GeoAI\x20Group','getSouthWest','stringify','apply','getWest','SmartFetchClusters','button','The\x20Lebanese\x20Wheat\x20Map','setMinZoom','setBounds','type','This\x20is\x20a\x20point','addEventListener','click','#e9bf48','drawerdownload','has','drawerdownload\x27\x20></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x27','mapbox://styles/mapbox/','max','My\x20Point','textContent','https://geoai.cnrs.edu.lb/geoaigeoserver/static/deja_clustered/lebanon_11.json','map','https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v12/static/','value','load','addTimeFilter','2016','loader','Polygon','mapbox://styles/mapbox/satellite-streets-v12','#ffffff','updateClusters'];_0xda58=function(){return _0x3ae582;};return _0xda58();}function _0x1119(_0x3a5878,_0x265835){const _0xda5834=_0xda58();return _0x1119=function(_0x1119be,_0x1e9140){_0x1119be=_0x1119be-0x1d2;let _0x336c72=_0xda5834[_0x1119be];return _0x336c72;},_0x1119(_0x3a5878,_0x265835);}class ClusterLayers{constructor(_0x32dd30,_0x59d62a){const _0x53b55e=_0x1119;this['map']=_0x32dd30,this[_0x53b55e(0x1e7)]=_0x59d62a,this[_0x53b55e(0x27e)]=[_0x53b55e(0x26c),['get','point_count']],this[_0x53b55e(0x1f3)]=[_0x53b55e(0x26c),['get',_0x53b55e(0x1fc)]],this['stepadded']=![],this['finaladded']=![],this[_0x53b55e(0x1ff)]=[_0x53b55e(0x254),0x4,0x1,_0x53b55e(0x29c)];}['addStep'](_0x474954,_0x19cfa3,_0x11181f){const _0x2b0706=_0x1119;!this[_0x2b0706(0x1f1)]?(this[_0x2b0706(0x23b)]=!![],this[_0x2b0706(0x27e)]['push'](_0x11181f),this[_0x2b0706(0x27e)][_0x2b0706(0x2a0)](_0x474954),this[_0x2b0706(0x1f3)][_0x2b0706(0x2a0)](_0x19cfa3),this[_0x2b0706(0x1f3)][_0x2b0706(0x2a0)](_0x474954),this[_0x2b0706(0x23b)]=!![]):console[_0x2b0706(0x1eb)]('Good\x20lad\x20don\x27t\x20add\x20a\x20step\x20after\x20setting\x20the\x20finals');}[_0x4af423(0x298)](_0x480faa,_0x5acfe9){const _0x3e6236=_0x4af423;this[_0x3e6236(0x23b)]?(this[_0x3e6236(0x27e)]['push'](_0x5acfe9),this[_0x3e6236(0x1f3)]['push'](_0x480faa),this[_0x3e6236(0x1f1)]=!![]):console[_0x3e6236(0x1eb)]('Good\x20lad\x20don\x27t\x20add\x20the\x20finals\x20before\x20at\x20least\x20one\x20step');}[_0x4af423(0x257)](_0x222022,_0x38f83b,_0x203fe5,_0x5af67c){const _0x1fef98=_0x4af423;this[_0x1fef98(0x1ff)]=[_0x222022,_0x38f83b,_0x203fe5,_0x5af67c];}[_0x4af423(0x206)](){const _0x1261f6=_0x4af423;this[_0x1261f6(0x23b)]&&this[_0x1261f6(0x1f1)]?(this['map'][_0x1261f6(0x1ef)]({'id':_0x1261f6(0x1d6),'type':_0x1261f6(0x2a1),'source':this[_0x1261f6(0x1e7)],'filter':[_0x1261f6(0x213),_0x1261f6(0x1fc)],'paint':{'circle-color':this[_0x1261f6(0x27e)],'circle-radius':this[_0x1261f6(0x1f3)]}}),this['map'][_0x1261f6(0x1ef)]({'id':'cluster-count','type':_0x1261f6(0x1e3),'source':this['source'],'filter':[_0x1261f6(0x213),_0x1261f6(0x1fc)],'layout':{'text-field':['get',_0x1261f6(0x248)],'text-font':[_0x1261f6(0x241),_0x1261f6(0x24d)],'text-size':0xc}}),this['map']['addLayer']({'id':'unclustered-point','type':_0x1261f6(0x2a1),'source':this[_0x1261f6(0x1e7)],'filter':['!',['has',_0x1261f6(0x1fc)]],'paint':{'circle-color':this['unclustered'][0x0],'circle-radius':this[_0x1261f6(0x1ff)][0x1],'circle-stroke-width':this[_0x1261f6(0x1ff)][0x2],'circle-stroke-color':this[_0x1261f6(0x1ff)][0x3]}})):console['log'](_0x1261f6(0x1d5));}}class MapCard{static [_0x4af423(0x29d)]='';static [_0x4af423(0x28d)]=![];static['setToken'](_0x3da87a){MapCard['token']=_0x3da87a;}constructor(_0x10bbf6,_0x1f2565,_0x58769b,_0x4048c0){const _0x16ee63=_0x4af423;!MapCard[_0x16ee63(0x28d)]&&(MapCard['declared']=!![],mapboxgl[_0x16ee63(0x2a3)]=MapCard[_0x16ee63(0x29d)],mapboxgl['setRTLTextPlugin'](_0x16ee63(0x236),null,!![])),this[_0x16ee63(0x26f)]=_0x10bbf6,this[_0x16ee63(0x1fe)]=_0x1f2565,this['cards_container_id']=_0x58769b,this[_0x16ee63(0x21a)]=_0x4048c0,this['map_container']=_0x4048c0[_0x16ee63(0x1fa)],this[_0x16ee63(0x1f7)]=[],this[_0x16ee63(0x1ee)]=0x0,this['cache_number']=0x0,this['cache_loaded']=0x0,this[_0x16ee63(0x1f2)]='',this['steps_with_time']=[];}[_0x4af423(0x1d2)](){const _0x23b350=_0x4af423;document[_0x23b350(0x22c)](this[_0x23b350(0x295)])[_0x23b350(0x1dc)](_0x23b350(0x2aa),_0x23b350(0x294)+this[_0x23b350(0x21a)][_0x23b350(0x1fa)]+'\x27\x20class=\x22w-100\x22\x20style=\x27\x20height:\x20300px;\x27\x20></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x27'+this[_0x23b350(0x21a)][_0x23b350(0x1fa)]+_0x23b350(0x247)+this[_0x23b350(0x21a)]['container']+_0x23b350(0x214)+this[_0x23b350(0x21a)]['container']+_0x23b350(0x1ea)+this[_0x23b350(0x21a)][_0x23b350(0x1fa)]+'time\x27\x20></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x27'+this[_0x23b350(0x21a)]['container']+_0x23b350(0x253)+this[_0x23b350(0x26f)]+_0x23b350(0x27c)+this[_0x23b350(0x1fe)]+_0x23b350(0x22f)+this[_0x23b350(0x21a)]['container']+_0x23b350(0x1e6));}[_0x4af423(0x275)](){const _0x3b99ce=_0x4af423;document[_0x3b99ce(0x22c)](this[_0x3b99ce(0x202)]+_0x3b99ce(0x28a))[_0x3b99ce(0x226)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<select\x20class=\x22form-select\x20\x20mb-3\x22\x20id=\x27'+this[_0x3b99ce(0x202)]+_0x3b99ce(0x25f);var _0x1e434c=document[_0x3b99ce(0x22c)](this[_0x3b99ce(0x202)]+'Select');_0x1e434c[_0x3b99ce(0x1e8)]=()=>{const _0x7a84f4=_0x3b99ce;this[_0x7a84f4(0x21a)][_0x7a84f4(0x293)](_0x7a84f4(0x215)+_0x1e434c[_0x7a84f4(0x21c)]);};}[_0x4af423(0x28c)](){const _0x6bef77=_0x4af423;this[_0x6bef77(0x21a)]=new mapboxgl[(_0x6bef77(0x1f8))](this['map']);}[_0x4af423(0x285)](){const _0x338016=_0x4af423;return this[_0x338016(0x21a)];}[_0x4af423(0x1f0)](_0x4fc22f){const _0x18c961=_0x4af423;this[_0x18c961(0x26b)]=_0x4fc22f;}[_0x4af423(0x27a)](_0x15e880){const _0x2a3919=_0x4af423;this[_0x2a3919(0x1f2)]=_0x15e880;}[_0x4af423(0x29a)](_0x29ccff=!![],_0x2ec63e=0xa){const _0x524888=_0x4af423;if(this[_0x524888(0x21a)][_0x524888(0x28f)]()>=_0x2ec63e){if(_0x29ccff)var _0x16fa82=this[_0x524888(0x21a)][_0x524888(0x1fd)](),_0x584c29=_0x16fa82['getNorthEast'](),_0x388c98=_0x16fa82['getSouthWest'](),_0x2e0f0d=this['source_url']+'&bbox='+_0x388c98[_0x524888(0x276)]+','+_0x388c98['lng']+','+_0x584c29[_0x524888(0x276)]+','+_0x584c29[_0x524888(0x228)];else _0x2e0f0d=this[_0x524888(0x26b)];fetch(_0x2e0f0d)[_0x524888(0x200)](_0xd88e3d=>_0xd88e3d['json']())['then'](_0x14828e=>{const _0x3f999f=_0x524888;this['centroids'][_0x3f999f(0x2a9)](_0x29306a=>{_0x29306a['remove']();}),_0x14828e[_0x3f999f(0x242)][_0x3f999f(0x2a9)](_0x28825e=>{const _0x364498=_0x3f999f;var _0x44f62d=_0x28825e[_0x364498(0x1f5)][_0x364498(0x265)],_0x1d41da=new mapboxgl['Marker']({'color':_0x364498(0x286),'scale':0.2})[_0x364498(0x268)](_0x44f62d)['addTo'](this[_0x364498(0x21a)]);this[_0x364498(0x26e)][_0x364498(0x2a0)](_0x1d41da);});})[_0x524888(0x271)](_0xe8696c=>{const _0x935d5a=_0x524888;console[_0x935d5a(0x23f)](_0x935d5a(0x290),_0xe8696c);});}}[_0x4af423(0x233)](_0x9d8a88=!![],_0x2fced2=0xa){const _0x1c21a5=_0x4af423;this['centroids']=[],this[_0x1c21a5(0x21a)]['on'](_0x1c21a5(0x24c),()=>{const _0x10e3f9=_0x1c21a5;this[_0x10e3f9(0x29a)](_0x9d8a88=_0x9d8a88,_0x2fced2=_0x2fced2);});}[_0x4af423(0x240)](_0x2e1455){const _0x4e878d=_0x4af423;this['cache_loaded']!=this[_0x4e878d(0x246)]&&(document[_0x4e878d(0x22c)](this[_0x4e878d(0x202)]+_0x4e878d(0x220))[_0x4e878d(0x226)]=_0x4e878d(0x278));if(_0x2e1455[0x0]>this['cache_max_zoom']){var _0x3dc7ca=![];fetch(_0x2e1455[0x1])[_0x4e878d(0x200)](_0x5bc789=>_0x5bc789['json']())[_0x4e878d(0x200)](_0x260126=>{const _0x19a58d=_0x4e878d;this[_0x19a58d(0x1d3)]++,_0x3dc7ca=_0x260126,this[_0x19a58d(0x1f7)]['push']([_0x2e1455[0x0],_0x3dc7ca]),console['log'](_0x19a58d(0x1da)),this[_0x19a58d(0x1f7)][_0x19a58d(0x1e9)]((_0x509efd,_0x246fd4)=>_0x509efd[0x0]-_0x246fd4[0x0]),this[_0x19a58d(0x1d3)]==this['cache_number']&&(document[_0x19a58d(0x22c)](this['map_container']+_0x19a58d(0x220))[_0x19a58d(0x226)]='');})[_0x4e878d(0x271)](_0x52486f=>{const _0x4260d3=_0x4e878d;console['error'](_0x4260d3(0x290),_0x52486f);}),this[_0x4e878d(0x1ee)]=_0x2e1455[0x0],this[_0x4e878d(0x246)]++;}else console[_0x4e878d(0x1eb)](_0x4e878d(0x1dd));}['addTimeStep'](_0xc69a53,_0xafc3c8){const _0x1b5655=_0x4af423;this[_0x1b5655(0x27b)][_0x1b5655(0x2a0)]([_0xc69a53,_0xafc3c8]);}['addTimeFilter'](){const _0xd80a47=_0x4af423;this[_0xd80a47(0x27b)][_0xd80a47(0x232)]>0x0?(document[_0xd80a47(0x22c)](this[_0xd80a47(0x202)]+'time')[_0xd80a47(0x226)]=_0xd80a47(0x2a8)+this[_0xd80a47(0x202)]+_0xd80a47(0x23e)+this[_0xd80a47(0x202)]+'slider\x22\x20type=\x22range\x22\x20min=\x220\x22\x20max=\x22'+(this[_0xd80a47(0x27b)][_0xd80a47(0x232)]-0x1)+_0xd80a47(0x27f),document[_0xd80a47(0x22c)](this[_0xd80a47(0x202)]+_0xd80a47(0x296))['addEventListener'](_0xd80a47(0x267),_0x5ec75b=>{const _0x55740f=_0xd80a47;this[_0x55740f(0x1f2)]=this[_0x55740f(0x27b)][_0x5ec75b[_0x55740f(0x1f4)]['value']][0x1],document[_0x55740f(0x22c)](this[_0x55740f(0x202)]+_0x55740f(0x25b))[_0x55740f(0x226)]=this[_0x55740f(0x27b)][_0x5ec75b[_0x55740f(0x1f4)][_0x55740f(0x21c)]][0x0],this[_0x55740f(0x1e1)]();}),this['url_additional_parameters']=this[_0xd80a47(0x27b)][0x0][0x1],document[_0xd80a47(0x22c)](this[_0xd80a47(0x202)]+_0xd80a47(0x25b))[_0xd80a47(0x226)]=this[_0xd80a47(0x27b)][0x0][0x0],this[_0xd80a47(0x1e1)]()):console[_0xd80a47(0x1eb)]('Please\x20add\x20Time\x20Step\x20First');}['serverCluster'](_0x49b568=!![]){const _0xa2f6c0=_0x4af423;var _0x1f926a=this['map'];this[_0xa2f6c0(0x21a)]['on'](_0xa2f6c0(0x21d),function(){const _0x537483=_0xa2f6c0;_0x1f926a[_0x537483(0x1de)](_0x537483(0x1d6),{'type':_0x537483(0x25d),'data':{'type':'Feature','properties':{'name':_0x537483(0x217),'description':_0x537483(0x20e)},'geometry':{'type':_0x537483(0x270),'coordinates':[0x0,0x0]}}});var _0x2a4dce=new ClusterLayers(_0x1f926a,'clusters');_0x2a4dce[_0x537483(0x260)](0x64,0x14,_0x537483(0x251)),_0x2a4dce[_0x537483(0x260)](0x2ee,0x1e,_0x537483(0x223)),_0x2a4dce[_0x537483(0x298)](0x28,_0x537483(0x229)),_0x2a4dce[_0x537483(0x257)](_0x537483(0x211),0x5,0x1,_0x537483(0x277)),_0x2a4dce[_0x537483(0x206)]();});if(_0x49b568)this[_0xa2f6c0(0x21a)]['on'](_0xa2f6c0(0x24c),()=>{const _0x5c3fa5=_0xa2f6c0;this[_0x5c3fa5(0x1f7)][_0x5c3fa5(0x232)]>0x0?this[_0x5c3fa5(0x208)]():this[_0x5c3fa5(0x1e1)]();});else{this[_0xa2f6c0(0x21a)][_0xa2f6c0(0x1de)](_0xa2f6c0(0x1d6),{'type':_0xa2f6c0(0x25d),'data':{'type':'Feature','properties':{'name':'My\x20Point','description':_0xa2f6c0(0x20e)},'geometry':{'type':_0xa2f6c0(0x270),'coordinates':[0x0,0x0]}}});var _0x20003e=new ClusterLayers(this[_0xa2f6c0(0x21a)],'clusters');_0x20003e[_0xa2f6c0(0x260)](0x64,0x14,_0xa2f6c0(0x251)),_0x20003e[_0xa2f6c0(0x260)](0x2ee,0x1e,_0xa2f6c0(0x223)),_0x20003e[_0xa2f6c0(0x298)](0x28,'#ffa657'),_0x20003e[_0xa2f6c0(0x257)](_0xa2f6c0(0x211),0x5,0x1,_0xa2f6c0(0x277)),_0x20003e[_0xa2f6c0(0x206)]();}this[_0xa2f6c0(0x1e1)]();}['fetchClusters'](){const _0x17a339=_0x4af423;fetch(this['source_url']+_0x17a339(0x227)+this[_0x17a339(0x21a)][_0x17a339(0x28f)]()+_0x17a339(0x2a2)+this['map'][_0x17a339(0x1fd)]()['toArray']()[_0x17a339(0x261)](',')+this[_0x17a339(0x1f2)])[_0x17a339(0x200)](_0xd76caf=>_0xd76caf[_0x17a339(0x283)]())['then'](_0xe9615d=>{const _0x1f80b8=_0x17a339;this[_0x1f80b8(0x224)](_0xe9615d);})[_0x17a339(0x271)](_0x1892a9=>{const _0x3d4b8e=_0x17a339;console[_0x3d4b8e(0x23f)]('Error\x20fetching\x20centroids\x20from\x20GeoServer:',_0x1892a9);});}[_0x4af423(0x208)](){const _0x386e71=_0x4af423;if(this['map'][_0x386e71(0x28f)]()<this[_0x386e71(0x1ee)]){console[_0x386e71(0x1eb)]('smartCluster');for(let _0x17c2c2=0x0;_0x17c2c2<this[_0x386e71(0x1f7)][_0x386e71(0x232)];_0x17c2c2++){if(this[_0x386e71(0x1f7)][_0x17c2c2][0x0]>this['map'][_0x386e71(0x28f)]()){this['updateClusters'](this[_0x386e71(0x1f7)][_0x17c2c2][0x1]);break;}}}else this['fetchClusters']();}[_0x4af423(0x224)](_0x36f65f){const _0x39984d=_0x4af423;var _0x4cc0d6={'type':_0x39984d(0x1f6),'features':_0x36f65f};JSON[_0x39984d(0x205)](_0x4cc0d6),!this[_0x39984d(0x21a)][_0x39984d(0x1e5)](_0x39984d(0x1d6))&&this['serverCluster'](![]),this[_0x39984d(0x21a)][_0x39984d(0x1e5)](_0x39984d(0x1d6))[_0x39984d(0x24e)](_0x4cc0d6),this[_0x39984d(0x21a)][_0x39984d(0x26a)](_0x39984d(0x1d6),_0x39984d(0x1ed),_0x39984d(0x2ab)),this[_0x39984d(0x21a)]['setLayoutProperty'](_0x39984d(0x274),'visibility',_0x39984d(0x2ab));}[_0x4af423(0x225)](_0x21948=![]){const _0x347111=_0x4af423;this[_0x347111(0x21a)][_0x347111(0x1de)](_0x347111(0x1d6),{'type':_0x347111(0x25d),'data':this[_0x347111(0x26b)],'cluster':!![],'clusterMaxZoom':0xe,'clusterRadius':0x32});var _0x5848b1=new ClusterLayers(map,_0x347111(0x1d6));_0x5848b1['addStep'](0x64,0x14,_0x347111(0x251)),_0x5848b1[_0x347111(0x260)](0x2ee,0x1e,_0x347111(0x223)),_0x5848b1[_0x347111(0x298)](0x28,_0x347111(0x229)),_0x5848b1[_0x347111(0x257)](_0x347111(0x211),0x5,0x1,_0x347111(0x277)),_0x5848b1['apply'](),_0x21948&&this[_0x347111(0x21a)]['on'](_0x347111(0x297),()=>{const _0x5bc413=_0x347111,_0x20dba6=document['getElementById'](this[_0x5bc413(0x202)]+_0x5bc413(0x1db))['querySelector'](_0x5bc413(0x209));_0x20dba6['className']=_0x5bc413(0x23c),_0x20dba6['textContent']='Loaded\x20completely',_0x20dba6[_0x5bc413(0x279)]=!![];});}[_0x4af423(0x237)](){const _0x3852c8=_0x4af423,_0x58a671=document['createElement'](_0x3852c8(0x209));_0x58a671['textContent']=_0x3852c8(0x23a),_0x58a671[_0x3852c8(0x20f)](_0x3852c8(0x210),()=>{const _0x7e1e8a=_0x3852c8;_0x58a671[_0x7e1e8a(0x279)]=!![],_0x58a671[_0x7e1e8a(0x218)]=_0x7e1e8a(0x1f9),this['clientCluster'](this['source_url'],!![]);}),_0x58a671[_0x3852c8(0x259)]=_0x3852c8(0x255),document[_0x3852c8(0x22c)](this[_0x3852c8(0x202)]+_0x3852c8(0x1db))['appendChild'](_0x58a671);}[_0x4af423(0x284)](_0x2911fb){const _0x5e1450=_0x4af423;this[_0x5e1450(0x21a)][_0x5e1450(0x284)](_0x2911fb);}[_0x4af423(0x20b)](_0x8fd7f9){const _0x2442c4=_0x4af423;this[_0x2442c4(0x21a)][_0x2442c4(0x20b)](_0x8fd7f9);}[_0x4af423(0x20c)](_0x44a141){const _0x1d134f=_0x4af423;this['map'][_0x1d134f(0x266)](_0x44a141);}[_0x4af423(0x22e)](){const _0x44badf=_0x4af423;this[_0x44badf(0x21a)]['addControl'](new mapboxgl[(_0x44badf(0x1df))]({'positionOptions':{'enableHighAccuracy':!![]},'trackUserLocation':!![]}));}['addNavigation'](){const _0x524914=_0x4af423;this[_0x524914(0x21a)][_0x524914(0x29b)](new mapboxgl['NavigationControl']());}[_0x4af423(0x1fb)](){const _0x7366aa=_0x4af423;this[_0x7366aa(0x21a)][_0x7366aa(0x29b)](new mapboxgl[(_0x7366aa(0x281))]());}['addFullScreen'](){const _0x47b96d=_0x4af423;this[_0x47b96d(0x21a)][_0x47b96d(0x29b)](new mapboxgl[(_0x47b96d(0x28b))]());}[_0x4af423(0x252)](_0x20d0d9=!![],_0x111fbd=![],_0x1c0641=![]){const _0x117085=_0x4af423;this[_0x117085(0x262)]=new MapboxDraw({'displayControlsDefault':![],'controls':{'polygon':_0x20d0d9,'point':_0x111fbd,'line_string':_0x1c0641,'trash':!![]}}),this[_0x117085(0x21a)][_0x117085(0x29b)](this[_0x117085(0x262)]);}['ShowDrawingArea'](){const _0x48e672=_0x4af423;this[_0x48e672(0x262)]?this[_0x48e672(0x21a)]['on'](_0x48e672(0x280),_0x3e2422=>{const _0x485033=_0x48e672,_0x2165d5=_0x3e2422['features'][0x0];if(_0x2165d5&&_0x2165d5[_0x485033(0x1f5)][_0x485033(0x20d)]===_0x485033(0x221)){const _0x37d0b1=this[_0x485033(0x1ec)](_0x2165d5);console['log'](_0x485033(0x230)+_0x37d0b1+_0x485033(0x1e0)),document[_0x485033(0x22c)](this[_0x485033(0x202)]+_0x485033(0x250))[_0x485033(0x226)]=_0x485033(0x234)+_0x37d0b1+_0x485033(0x201);}}):console['log'](_0x48e672(0x231));}[_0x4af423(0x269)](){const _0x355282=_0x4af423;this[_0x355282(0x262)]?this[_0x355282(0x21a)]['on'](_0x355282(0x280),_0x578501=>{const _0x5d9288=_0x355282,_0xaac63=_0x578501['features'][0x0];if(_0xaac63&&_0xaac63[_0x5d9288(0x1f5)][_0x5d9288(0x20d)]==='Polygon'){const _0x2ac17a=_0xaac63[_0x5d9288(0x1f5)][_0x5d9288(0x265)][0x0],_0x5b7ff5=_0x2ac17a[_0x5d9288(0x25a)]((_0x438eca,_0x26bf07)=>{const _0x3452e4=_0x5d9288;return _0x438eca[_0x3452e4(0x22a)](_0x26bf07);},new mapboxgl[(_0x5d9288(0x25e))](_0x2ac17a[0x0],_0x2ac17a[0x0])),_0x26f802=_0x5b7ff5[_0x5d9288(0x204)](),_0x3b318d=_0x5b7ff5[_0x5d9288(0x22d)](),_0x58670d=_0x5b7ff5['getCenter'](),_0x202b63={'width':window[_0x5d9288(0x22b)],'height':window['innerHeight']},_0x3ee808=this['calculateZoom'](_0x5b7ff5,_0x202b63),_0x4b1873=_0x5d9288(0x21b)+_0x58670d[_0x5d9288(0x228)]+','+_0x58670d[_0x5d9288(0x276)]+','+_0x3ee808+_0x5d9288(0x292)+mapboxgl[_0x5d9288(0x2a3)];document['getElementById'](this['map_container']+_0x5d9288(0x212))[_0x5d9288(0x226)]=_0x5d9288(0x24f)+_0x4b1873+_0x5d9288(0x239);}}):console['log'](_0x355282(0x231));}[_0x4af423(0x264)](_0x19fa8e,_0x91da22){const _0x42db5=_0x4af423,_0x1d3cad={'height':0x100,'width':0x100},_0x360132=0x16;function _0x229a8e(_0xb225f4){const _0xb52833=_0x1119,_0x5188ed=Math[_0xb52833(0x27d)](_0xb225f4*Math['PI']/0xb4),_0x17ae53=Math[_0xb52833(0x1eb)]((0x1+_0x5188ed)/(0x1-_0x5188ed))/0x2;return Math[_0xb52833(0x216)](Math[_0xb52833(0x2a6)](_0x17ae53,Math['PI']),-Math['PI'])/0x2;}function _0x33adcc(_0x21157c,_0x5a29ec,_0x20c678){const _0x4a1ea2=_0x1119;return Math['floor'](Math['log'](_0x21157c/_0x5a29ec/_0x20c678)/Math[_0x4a1ea2(0x249)]);}const _0x32ced1=(_0x229a8e(_0x19fa8e[_0x42db5(0x288)]())-_0x229a8e(_0x19fa8e['getSouth']()))/Math['PI'],_0x57e24d=_0x19fa8e[_0x42db5(0x26d)]()-_0x19fa8e[_0x42db5(0x207)](),_0x524271=(_0x57e24d<0x0?_0x57e24d+0x168:_0x57e24d)/0x168,_0x4b2e16=_0x33adcc(_0x91da22['height'],_0x1d3cad[_0x42db5(0x282)],_0x32ced1),_0x33a2b2=_0x33adcc(_0x91da22[_0x42db5(0x2a7)],_0x1d3cad[_0x42db5(0x2a7)],_0x524271);return Math[_0x42db5(0x2a6)](_0x4b2e16,_0x33a2b2,_0x360132);}['PolygonArea'](_0x40ddb4){const _0x5df647=_0x4af423;if(_0x40ddb4[_0x5df647(0x1f5)]['type']===_0x5df647(0x221))return turf[_0x5df647(0x258)](_0x40ddb4);return 0x0;}}MapCard['setToken'](_0x4af423(0x245)),card=new MapCard('\x20The\x20Lebanese\x20Urban\x20Map','The\x20first\x20comprehensive\x20Lebanese\x20Urban\x20Map\x20was\x20completely\x20autonomously\x20generated\x20using\x20\x20Deep\x20Learning\x20Models\x20that\x20were\x20developed\x20and\x20tested\x20at\x20the\x20National\x20Council\x20for\x20Scientific\x20Research\x20(CNRS).',_0x4af423(0x287),{'container':'map1','style':_0x4af423(0x222),'center':[0x24,0x22],'zoom':6.5}),card[_0x4af423(0x1d2)](),card[_0x4af423(0x28c)](),card['addFullScreen'](),card['addNavigation'](),card[_0x4af423(0x1fb)](),card[_0x4af423(0x275)](),card[_0x4af423(0x22e)](),card['setCache']([0x8,_0x4af423(0x24a)]),card[_0x4af423(0x240)]([0x9,_0x4af423(0x1d9)]),card[_0x4af423(0x240)]([0xa,'https://geoai.cnrs.edu.lb/geoaigeoserver/static/deja_clustered/lebanon_8.json']),card['setCache']([0xb,_0x4af423(0x28e)]),card['setCache']([0xc,_0x4af423(0x1e4)]),card['setCache']([0xd,_0x4af423(0x219)]),card[_0x4af423(0x240)]([0xf,'https://geoai.cnrs.edu.lb/geoaigeoserver/static/deja_clustered/lebanon_12.json']),card[_0x4af423(0x1f0)](_0x4af423(0x289)),card[_0x4af423(0x256)](),wheat_card=new MapCard(_0x4af423(0x20a),_0x4af423(0x203),_0x4af423(0x287),{'container':_0x4af423(0x23d),'style':_0x4af423(0x222),'center':[0x24,0x22],'zoom':6.5}),wheat_card['printCard'](),wheat_card[_0x4af423(0x28c)](),wheat_card[_0x4af423(0x244)](),wheat_card['addNavigation'](),wheat_card['addScale'](),wheat_card[_0x4af423(0x275)](),wheat_card[_0x4af423(0x22e)](),wheat_card[_0x4af423(0x1f0)](_0x4af423(0x291)),wheat_card[_0x4af423(0x256)](),wheat_card[_0x4af423(0x273)](_0x4af423(0x21f),'&year=2016'),wheat_card[_0x4af423(0x273)](_0x4af423(0x24b),'&year=2017'),wheat_card[_0x4af423(0x273)]('2018',_0x4af423(0x29e)),wheat_card['addTimeStep'](_0x4af423(0x2a5),_0x4af423(0x243)),wheat_card['addTimeStep'](_0x4af423(0x1e2),'&year=2020'),wheat_card[_0x4af423(0x273)]('2021','&year=2021'),wheat_card[_0x4af423(0x273)]('2022','&year=2022'),wheat_card['addTimeStep'](_0x4af423(0x1d4),_0x4af423(0x238)),wheat_card[_0x4af423(0x21e)]();

</script>
