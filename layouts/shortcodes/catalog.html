<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
<script src="https://unpkg.com/@turf/turf@6/turf.min.js"></script>
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.4.3/mapbox-gl-draw.js"></script>
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.4.3/mapbox-gl-draw.css"
    type="text/css">
<style>
    .overmap {
        position: absolute;
        top: 10px;
        left: 10px;
        padding: 10px;
        border-radius: 5px;
        z-index: 1;
        width: 200px;

    }
</style>


<hr>


<div class="d-flex justify-content-between flex-wrap" id="main_cards_body">

</div>


<script src="https://unpkg.com/supercluster@8.0.0/dist/supercluster.min.js"></script>

<script>
  function _0x4666(){const _0xbe8e1a=['Marker','point_count','getWest','stepadded','reduce','accessToken','SmartFetchClusters','value','addDrawing','slider\x22\x20class=\x22w-100\x20form-range\x22\x20type=\x22range\x22\x20min=\x220\x22\x20max=\x22','#ffffff','pk.eyJ1IjoibWhkMTIzbXN3aSIsImEiOiJjamp0azg5OHAyaGIxM3Fvbjc0b3pvZ2VpIn0.vmB_VWu_ewHeNBtoEtdt7Q','input','innerHeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<select\x20class=\x22form-select\x20\x20mb-3\x22\x20id=\x27','unclustered-point','setFinal','updateClusters','2021','addStep','getNorthEast','Good\x20lad\x20don\x27t\x20add\x20the\x20finals\x20before\x20at\x20least\x20one\x20step','My\x20Point','cache_number','#ffa657','stringify','calculateZoom','fetchCentroids','fetchClusters','&year=2016','geometry','toString','type','Good\x20lad\x20don\x27t\x20add\x20a\x20step\x20after\x20setting\x20the\x20finals','addDrawing\x20First','selector\x27\x20></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x27','getBounds','DownloadDrawingArea','&year=2017','point_count_abbreviated','\x22\x20step=\x221\x22\x20value=\x220\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','extend','moveend','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22card-text\x22>','drawerdownload','Selected\x20area:\x20','#69c0ff','FeatureCollection','784740tTQSwh','addStyleSelector','lat','&bbox=','getSource','Good\x20lad\x20don\x27t\x20apply\x20before\x20adding\x20a\x20step\x20and\x20the\x20finals','circle_radius','disabled','5TkDwHi','timelabel','setLngLat','button','length','visibility','2019','ShowDrawingArea','&year=2021','circle','apply','https://geoai.cnrs.edu.lb/geoaigeoserver/static/deja_clustered/lebanon_10.json','selector','target','#11b4da','source_url','time','setBounds','https://geoai.cnrs.edu.lb/geoaigeoserver/static/deja_clustered/lebanon_8.json','<div\x20class=\x20\x22text-left\x20w-100\x20my-2\x20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','16eLEHvX','setData','mapbox://styles/mapbox/','DIN\x20Offc\x20Pro\x20Medium','title','time\x27\x20\x20></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22card-title\x22>','clusters','click','json','#e51e1e','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-100\x20bg-light\x20rounded\x20p-3\x20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20id=\x22','\x20square\x20meters','addSource','cache','4462212NMFNDL','coordinates','clientFetcher','innerWidth','getZoom','has','#e9bf48','unclustered','getElementById','height','geojson','getMap','toArray','finaladded','Load','https://geoai.cnrs.edu.lb/geoaigeoserver/static/deja_clustered/lebanon_11.json','This\x20is\x20a\x20point','container','log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20w-100\x22\x20style=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x27','get','Error\x20fetching\x20centroids\x20from\x20GeoServer:','declared','map1','addControl','then','https://geoai.cnrs.edu.lb/geoaigeoserver/static/deja_clustered/lebanon_7.json','clientCluster','Feature','setStyle','setMinZoom','2018','&year=2023','Choose\x20Year:\x20','402980FsOasg','LngLatBounds','Please\x20add\x20Time\x20Step\x20First','getEast','2022','centroids','https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v12/static/','min','270olbOKm','textContent','SetUnclustered','addFullScreen','innerHTML','main_cards_body','symbol','https://geoai.cnrs.edu.lb/geoaigeoserver/static/deja_clustered/lebanon_12.json','https://geoai.cnrs.edu.lb/geoaigeoserver','source','Loading\x20...','setToken','loading\x20Cache','getSouth','setSourceUrl','draw.selectionchange','setMaxZoom','setLayoutProperty','addNavigation','steps_with_time','addEventListener','toFixed','features','printCard','insertAdjacentHTML','good\x20lad,\x20set\x20the\x20caches\x20from\x20lower\x20zoom\x20level\x20to\x20the\x20highest\x20','step','addLayer','&year=2019','Map','serverCluster','draw','error','idle','map','circle_color','map_container','className','addTimeFilter','2023','url_additional_parameters','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-100\x20text-center\x20p-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-primary\x22\x20type=\x22button\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22spinner-border\x20spinner-border-sm\x22\x20role=\x22status\x22\x20aria-hidden=\x22true\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Loading\x20data...\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','btn\x20w-100\x20btn-success\x20p-2','timelabel\x22\x20class=\x22w-100\x20form-label\x20h5\x20\x22></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22','LN2','https://geoai.cnrs.edu.lb/geoaigeoserver/static/deja_clustered/lebanon_9.json','2020','The\x20first\x20comprehensive\x20Lebanese\x20Urban\x20Map\x20was\x20completely\x20autonomously\x20generated\x20using\x20\x20Deep\x20Learning\x20Models\x20that\x20were\x20developed\x20and\x20tested\x20at\x20the\x20National\x20Council\x20for\x20Scientific\x20Research\x20(CNRS).','6382998zdLVdy','getNorth','The\x20first\x20Lebanese\x20Wheat\x20Map\x20completely\x20autonomously\x20generated\x20using\x20Deep\x20Learning\x20Models\x20By\x20GeoAI\x20Group','drawerdownload\x27\x20></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x27','setRTLTextPlugin','beforeend','setCache','\x20The\x20Lebanese\x20Urban\x20Map','cluster-count','cards_container_id','2317022sqgxGu','2017','loader','addTimeStep','?zoom=','2293800rUrrEK','width','sort','addGeoLocator','token','clusterLoadButton','getSouthWest','Arial\x20Unicode\x20MS\x20Bold','Select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id\x20=\x20\x27','cache_loaded','Point','2016','catch','onchange','The\x20Lebanese\x20Wheat\x20Map','&#13217;\x20</div>','loadMap','https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js','addScale','cache_max_zoom','mapbox://styles/mapbox/satellite-streets-v12','PolygonArea','lng','Polygon','4345859GSacDR','loader\x27\x20></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x27','map2','description'];_0x4666=function(){return _0xbe8e1a;};return _0x4666();}const _0x164b28=_0x137d;(function(_0x4979be,_0x48490d){const _0x5b6501=_0x137d,_0x5b0c4c=_0x4979be();while(!![]){try{const _0x13e138=-parseInt(_0x5b6501(0x12b))/0x1+parseInt(_0x5b6501(0xd9))/0x2+parseInt(_0x5b6501(0xde))/0x3+-parseInt(_0x5b6501(0x155))/0x4*(-parseInt(_0x5b6501(0x133))/0x5)+parseInt(_0x5b6501(0xcf))/0x6+parseInt(_0x5b6501(0xf7))/0x7*(-parseInt(_0x5b6501(0x147))/0x8)+parseInt(_0x5b6501(0x17f))/0x9*(-parseInt(_0x5b6501(0x177))/0xa);if(_0x13e138===_0x48490d)break;else _0x5b0c4c['push'](_0x5b0c4c['shift']());}catch(_0x5c59a6){_0x5b0c4c['push'](_0x5b0c4c['shift']());}}}(_0x4666,0xd3b47));function formatNumber(_0x599ee5){const _0x423e82=_0x137d;if(_0x599ee5<0x3e8)return _0x599ee5[_0x423e82(0x11a)]();else{if(_0x599ee5<0xf4240)return(_0x599ee5/0x3e8)[_0x423e82(0xb3)](0x2)+'k';else{if(_0x599ee5<0x3b9aca00)return(_0x599ee5/0xf4240)[_0x423e82(0xb3)](0x2)+'m';else return _0x599ee5<0xe8d4a51000?(_0x599ee5/0x3b9aca00)[_0x423e82(0xb3)](0x2)+'b':(_0x599ee5/0xe8d4a51000)['toFixed'](0x2)+'t';}}}class ClusterLayers{constructor(_0x3ff9d1,_0x2cc56b){const _0x47571e=_0x137d;this['map']=_0x3ff9d1,this[_0x47571e(0x188)]=_0x2cc56b,this['circle_color']=[_0x47571e(0xb8),[_0x47571e(0x169),_0x47571e(0xfc)]],this['circle_radius']=[_0x47571e(0xb8),[_0x47571e(0x169),_0x47571e(0xfc)]],this['stepadded']=![],this[_0x47571e(0x162)]=![],this['unclustered']=[_0x47571e(0x141),0x4,0x1,'#fff'];}[_0x164b28(0x10e)](_0x5a280f,_0x34f644,_0x27309d){const _0x2d3191=_0x164b28;!this[_0x2d3191(0x162)]?(this[_0x2d3191(0xfe)]=!![],this[_0x2d3191(0xc1)][_0x2d3191(0xc7)](_0x27309d),this['circle_color'][_0x2d3191(0xc7)](_0x5a280f),this[_0x2d3191(0x131)]['push'](_0x34f644),this[_0x2d3191(0x131)]['push'](_0x5a280f),this[_0x2d3191(0xfe)]=!![]):console[_0x2d3191(0x167)](_0x2d3191(0x11c));}[_0x164b28(0x10b)](_0x2a441a,_0x40a8ec){const _0x4a0a51=_0x164b28;this[_0x4a0a51(0xfe)]?(this[_0x4a0a51(0xc1)][_0x4a0a51(0xc7)](_0x40a8ec),this[_0x4a0a51(0x131)]['push'](_0x2a441a),this['finaladded']=!![]):console[_0x4a0a51(0x167)](_0x4a0a51(0x110));}[_0x164b28(0x181)](_0x5486b3,_0x3a9663,_0x3a1a4a,_0x35727a){this['unclustered']=[_0x5486b3,_0x3a9663,_0x3a1a4a,_0x35727a];}[_0x164b28(0x13d)](){const _0xada9ce=_0x164b28;this['stepadded']&&this[_0xada9ce(0x162)]?(this[_0xada9ce(0xc0)]['addLayer']({'id':_0xada9ce(0x14d),'type':_0xada9ce(0x13c),'source':this[_0xada9ce(0x188)],'filter':[_0xada9ce(0x15a),_0xada9ce(0xfc)],'paint':{'circle-color':this[_0xada9ce(0xc1)],'circle-radius':this[_0xada9ce(0x131)]}}),this[_0xada9ce(0xc0)][_0xada9ce(0xb9)]({'id':_0xada9ce(0xd7),'type':_0xada9ce(0x185),'source':this[_0xada9ce(0x188)],'filter':[_0xada9ce(0x15a),_0xada9ce(0xfc)],'layout':{'text-field':['get',_0xada9ce(0x122)],'text-font':[_0xada9ce(0x14a),_0xada9ce(0xe5)],'text-size':0xc}}),this['map'][_0xada9ce(0xb9)]({'id':_0xada9ce(0x10a),'type':_0xada9ce(0x13c),'source':this[_0xada9ce(0x188)],'filter':['!',[_0xada9ce(0x15a),_0xada9ce(0xfc)]],'paint':{'circle-color':this[_0xada9ce(0x15c)][0x0],'circle-radius':this[_0xada9ce(0x15c)][0x1],'circle-stroke-width':this[_0xada9ce(0x15c)][0x2],'circle-stroke-color':this[_0xada9ce(0x15c)][0x3]}})):console[_0xada9ce(0x167)](_0xada9ce(0x130));}}function _0x137d(_0x45c34a,_0x5abcb0){const _0x46664c=_0x4666();return _0x137d=function(_0x137de3,_0x16bd91){_0x137de3=_0x137de3-0xab;let _0x54f9da=_0x46664c[_0x137de3];return _0x54f9da;},_0x137d(_0x45c34a,_0x5abcb0);}class MapCard{static [_0x164b28(0xe2)]='';static [_0x164b28(0x16b)]=![];static['setToken'](_0x595332){MapCard['token']=_0x595332;}constructor(_0x1e0cde,_0x1752e9,_0x2bb04d,_0x22249c){const _0x397ecc=_0x164b28;!MapCard[_0x397ecc(0x16b)]&&(MapCard[_0x397ecc(0x16b)]=!![],mapboxgl[_0x397ecc(0x100)]=MapCard[_0x397ecc(0xe2)],mapboxgl[_0x397ecc(0xd3)](_0x397ecc(0xf0),null,!![])),this[_0x397ecc(0x14b)]=_0x1e0cde,this[_0x397ecc(0xfa)]=_0x1752e9,this['cards_container_id']=_0x2bb04d,this['map']=_0x22249c,this[_0x397ecc(0xc2)]=_0x22249c['container'],this[_0x397ecc(0x154)]=[],this['cache_max_zoom']=0x0,this[_0x397ecc(0x112)]=0x0,this[_0x397ecc(0xe8)]=0x0,this[_0x397ecc(0xc6)]='',this[_0x397ecc(0xb1)]=[];}[_0x164b28(0xb5)](){const _0x3029ab=_0x164b28;document[_0x3029ab(0x15d)](this[_0x3029ab(0xd8)])[_0x3029ab(0xb6)](_0x3029ab(0xd4),_0x3029ab(0x168)+this['map'][_0x3029ab(0x166)]+'\x27\x20class=\x22w-100\x22\x20style=\x27\x20height:\x20300px;\x27\x20>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overmap\x22>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x27'+this[_0x3029ab(0xc0)][_0x3029ab(0x166)]+_0x3029ab(0x11e)+this[_0x3029ab(0xc0)][_0x3029ab(0x166)]+'drawer\x27\x20></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x27'+this['map']['container']+_0x3029ab(0xd2)+this['map'][_0x3029ab(0x166)]+_0x3029ab(0xf8)+this[_0x3029ab(0xc0)]['container']+_0x3029ab(0x14c)+this[_0x3029ab(0x14b)]+_0x3029ab(0x126)+this[_0x3029ab(0xfa)]+_0x3029ab(0xe7)+this[_0x3029ab(0xc0)][_0x3029ab(0x166)]+'Load\x27></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>');}[_0x164b28(0x12c)](){const _0x3feffc=_0x164b28;document['getElementById'](this['map_container']+_0x3feffc(0x13f))['innerHTML']=_0x3feffc(0x109)+this[_0x3feffc(0xc2)]+'Select\x27\x20aria-label=\x22Slect\x20Layer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22dark-v11\x22\x20>Dark</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22light-v11\x22\x20>Light</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22streets-v12\x22\x20>Streets</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22outdoors-v12\x22\x20>Outdoors</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22satellite-streets-v12\x22\x20selected>Satellite</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';var _0x306625=document[_0x3feffc(0x15d)](this[_0x3feffc(0xc2)]+_0x3feffc(0xe6));_0x306625[_0x3feffc(0xec)]=()=>{const _0x582135=_0x3feffc;this[_0x582135(0xc0)][_0x582135(0x172)](_0x582135(0x149)+_0x306625[_0x582135(0x102)]);};}[_0x164b28(0xef)](){const _0x560155=_0x164b28;this[_0x560155(0xc0)]=new mapboxgl[(_0x560155(0xbb))](this[_0x560155(0xc0)]);}[_0x164b28(0x160)](){const _0x273bb1=_0x164b28;return this[_0x273bb1(0xc0)];}[_0x164b28(0xac)](_0x591cb2){const _0x36535b=_0x164b28;this[_0x36535b(0x142)]=_0x591cb2;}['setSourceUrlParam'](_0x348b29){const _0x24069c=_0x164b28;this[_0x24069c(0xc6)]=_0x348b29;}[_0x164b28(0x116)](_0x1f75d9=!![],_0x47e45b=0xa){const _0x8ca596=_0x164b28;if(this[_0x8ca596(0xc0)]['getZoom']()>=_0x47e45b){if(_0x1f75d9)var _0x3908f5=this[_0x8ca596(0xc0)][_0x8ca596(0x11f)](),_0x2d4d0b=_0x3908f5[_0x8ca596(0x10f)](),_0x10ee43=_0x3908f5[_0x8ca596(0xe4)](),_0x170aee=this[_0x8ca596(0x142)]+'&bbox='+_0x10ee43['lat']+','+_0x10ee43[_0x8ca596(0xf5)]+','+_0x2d4d0b[_0x8ca596(0x12d)]+','+_0x2d4d0b[_0x8ca596(0xf5)];else _0x170aee=this['source_url'];fetch(_0x170aee)[_0x8ca596(0x16e)](_0x45897a=>_0x45897a[_0x8ca596(0x14f)]())[_0x8ca596(0x16e)](_0xf4b5c0=>{const _0x2072f5=_0x8ca596;this[_0x2072f5(0x17c)]['forEach'](_0xe165de=>{_0xe165de['remove']();}),_0xf4b5c0[_0x2072f5(0xb4)]['forEach'](_0x2e918d=>{const _0x447105=_0x2072f5;var _0x5d1f4e=_0x2e918d[_0x447105(0x119)][_0x447105(0x156)],_0x46756d=new mapboxgl[(_0x447105(0xfb))]({'color':'#FFFFFF','scale':0.2})[_0x447105(0x135)](_0x5d1f4e)['addTo'](this['map']);this[_0x447105(0x17c)]['push'](_0x46756d);});})[_0x8ca596(0xeb)](_0x5d4a45=>{const _0x4d6269=_0x8ca596;console[_0x4d6269(0xbe)](_0x4d6269(0x16a),_0x5d4a45);});}}[_0x164b28(0x157)](_0x3700e6=!![],_0x17394b=0xa){const _0x186b86=_0x164b28;this['centroids']=[],this[_0x186b86(0xc0)]['on'](_0x186b86(0x125),()=>{this['fetchCentroids'](_0x3700e6=_0x3700e6,_0x17394b=_0x17394b);});}[_0x164b28(0xd5)](_0x237aa7){const _0x26081d=_0x164b28;this[_0x26081d(0xe8)]!=this[_0x26081d(0x112)]&&(document[_0x26081d(0x15d)](this[_0x26081d(0xc2)]+_0x26081d(0xdb))[_0x26081d(0x183)]=_0x26081d(0xc8));if(_0x237aa7[0x0]>this[_0x26081d(0xf2)]){var _0x2ff03a=![];fetch(_0x237aa7[0x1])[_0x26081d(0x16e)](_0x33d373=>_0x33d373['json']())[_0x26081d(0x16e)](_0x4c9452=>{const _0x139ca6=_0x26081d;this[_0x139ca6(0xe8)]++,_0x2ff03a=_0x4c9452,this['cache'][_0x139ca6(0xc7)]([_0x237aa7[0x0],_0x2ff03a]),console[_0x139ca6(0x167)](_0x139ca6(0x18b)),this[_0x139ca6(0x154)][_0x139ca6(0xe0)]((_0x444bce,_0x510656)=>_0x444bce[0x0]-_0x510656[0x0]),this['cache_loaded']==this[_0x139ca6(0x112)]&&(document[_0x139ca6(0x15d)](this[_0x139ca6(0xc2)]+'loader')[_0x139ca6(0x183)]='');})[_0x26081d(0xeb)](_0x56885e=>{const _0x451c9e=_0x26081d;console[_0x451c9e(0xbe)]('Error\x20fetching\x20centroids\x20from\x20GeoServer:',_0x56885e);}),this[_0x26081d(0xf2)]=_0x237aa7[0x0],this[_0x26081d(0x112)]++;}else console[_0x26081d(0x167)](_0x26081d(0xb7));}[_0x164b28(0xdc)](_0x8ffa9a,_0x14a4bb){const _0x1b2668=_0x164b28;this[_0x1b2668(0xb1)]['push']([_0x8ffa9a,_0x14a4bb]);}['addTimeFilter'](){const _0x1ccfb8=_0x164b28;this['steps_with_time']['length']>0x0?(document[_0x1ccfb8(0x15d)](this[_0x1ccfb8(0xc2)]+_0x1ccfb8(0x143))['innerHTML']=_0x1ccfb8(0x151)+this['map_container']+_0x1ccfb8(0xca)+this[_0x1ccfb8(0xc2)]+_0x1ccfb8(0x104)+(this[_0x1ccfb8(0xb1)]['length']-0x1)+_0x1ccfb8(0x123),document[_0x1ccfb8(0x15d)](this['map_container']+'slider')[_0x1ccfb8(0xb2)](_0x1ccfb8(0x107),_0x208461=>{const _0x59021d=_0x1ccfb8;this['url_additional_parameters']=this[_0x59021d(0xb1)][_0x208461[_0x59021d(0x140)]['value']][0x1],document[_0x59021d(0x15d)](this['map_container']+_0x59021d(0x134))[_0x59021d(0x183)]=_0x59021d(0x176)+this[_0x59021d(0xb1)][_0x208461[_0x59021d(0x140)][_0x59021d(0x102)]][0x0],this['fetchClusters']();}),this['url_additional_parameters']=this[_0x1ccfb8(0xb1)][0x0][0x1],document[_0x1ccfb8(0x15d)](this['map_container']+_0x1ccfb8(0x134))[_0x1ccfb8(0x183)]=_0x1ccfb8(0x176)+this[_0x1ccfb8(0xb1)][0x0][0x0],this[_0x1ccfb8(0x117)]()):console['log'](_0x1ccfb8(0x179));}[_0x164b28(0xbc)](_0xf74f80=!![]){const _0x2f90cf=_0x164b28;var _0x909479=this[_0x2f90cf(0xc0)];this[_0x2f90cf(0xc0)]['on']('load',function(){const _0x735518=_0x2f90cf;_0x909479['addSource'](_0x735518(0x14d),{'type':_0x735518(0x15f),'data':{'type':_0x735518(0x171),'properties':{'name':_0x735518(0x111),'description':_0x735518(0x165)},'geometry':{'type':_0x735518(0xe9),'coordinates':[0x0,0x0]}}});var _0x59d20d=new ClusterLayers(_0x909479,_0x735518(0x14d));_0x59d20d[_0x735518(0x10e)](0x64,0x14,_0x735518(0x150)),_0x59d20d[_0x735518(0x10e)](0x2ee,0x1e,'#ffffff'),_0x59d20d[_0x735518(0x10b)](0x28,_0x735518(0x113)),_0x59d20d[_0x735518(0x181)](_0x735518(0x15b),0x5,0x1,_0x735518(0x129)),_0x59d20d[_0x735518(0x13d)]();});if(_0xf74f80)this[_0x2f90cf(0xc0)]['on'](_0x2f90cf(0x125),()=>{const _0x22a0ac=_0x2f90cf;this['cache'][_0x22a0ac(0x137)]>0x0?this['SmartFetchClusters']():this['fetchClusters']();});else{this[_0x2f90cf(0xc0)][_0x2f90cf(0x153)]('clusters',{'type':_0x2f90cf(0x15f),'data':{'type':_0x2f90cf(0x171),'properties':{'name':'My\x20Point','description':_0x2f90cf(0x165)},'geometry':{'type':_0x2f90cf(0xe9),'coordinates':[0x0,0x0]}}});var _0x524a92=new ClusterLayers(this[_0x2f90cf(0xc0)],_0x2f90cf(0x14d));_0x524a92[_0x2f90cf(0x10e)](0x64,0x14,_0x2f90cf(0x150)),_0x524a92[_0x2f90cf(0x10e)](0x2ee,0x1e,_0x2f90cf(0x105)),_0x524a92[_0x2f90cf(0x10b)](0x28,_0x2f90cf(0x113)),_0x524a92[_0x2f90cf(0x181)](_0x2f90cf(0x15b),0x5,0x1,'#69c0ff'),_0x524a92[_0x2f90cf(0x13d)]();}this['fetchClusters']();}[_0x164b28(0x117)](){const _0x4adf55=_0x164b28;fetch(this[_0x4adf55(0x142)]+_0x4adf55(0xdd)+this['map'][_0x4adf55(0x159)]()+_0x4adf55(0x12e)+this['map'][_0x4adf55(0x11f)]()[_0x4adf55(0x161)]()['join'](',')+this[_0x4adf55(0xc6)])[_0x4adf55(0x16e)](_0xccb250=>_0xccb250[_0x4adf55(0x14f)]())[_0x4adf55(0x16e)](_0x3a2cc0=>{const _0x51b864=_0x4adf55;this[_0x51b864(0x10c)](_0x3a2cc0);})['catch'](_0x4457d1=>{const _0x3da14d=_0x4adf55;console[_0x3da14d(0xbe)](_0x3da14d(0x16a),_0x4457d1);});}[_0x164b28(0x101)](){const _0x53277f=_0x164b28;if(this['map'][_0x53277f(0x159)]()<this[_0x53277f(0xf2)]){console[_0x53277f(0x167)]('smartCluster');for(let _0x1750ba=0x0;_0x1750ba<this['cache'][_0x53277f(0x137)];_0x1750ba++){if(this[_0x53277f(0x154)][_0x1750ba][0x0]>this[_0x53277f(0xc0)][_0x53277f(0x159)]()){this[_0x53277f(0x10c)](this[_0x53277f(0x154)][_0x1750ba][0x1]);break;}}}else this[_0x53277f(0x117)]();}[_0x164b28(0x10c)](_0x5e6a94){const _0x2724d0=_0x164b28;var _0x5ea9f3={'type':_0x2724d0(0x12a),'features':_0x5e6a94};JSON[_0x2724d0(0x114)](_0x5ea9f3),!this[_0x2724d0(0xc0)][_0x2724d0(0x12f)]('clusters')&&this[_0x2724d0(0xbc)](![]),this[_0x2724d0(0xc0)][_0x2724d0(0x12f)](_0x2724d0(0x14d))[_0x2724d0(0x148)](_0x5ea9f3),this[_0x2724d0(0xc0)][_0x2724d0(0xaf)](_0x2724d0(0x14d),_0x2724d0(0x138),'visible'),this['map'][_0x2724d0(0xaf)](_0x2724d0(0xd7),_0x2724d0(0x138),'visible');}[_0x164b28(0x170)](_0x2076cf=![]){const _0x20e9db=_0x164b28;this[_0x20e9db(0xc0)][_0x20e9db(0x153)](_0x20e9db(0x14d),{'type':_0x20e9db(0x15f),'data':this['source_url'],'cluster':!![],'clusterMaxZoom':0xe,'clusterRadius':0x32});var _0x2f70ad=new ClusterLayers(map,_0x20e9db(0x14d));_0x2f70ad[_0x20e9db(0x10e)](0x64,0x14,'#e51e1e'),_0x2f70ad[_0x20e9db(0x10e)](0x2ee,0x1e,_0x20e9db(0x105)),_0x2f70ad[_0x20e9db(0x10b)](0x28,'#ffa657'),_0x2f70ad[_0x20e9db(0x181)]('#e9bf48',0x5,0x1,_0x20e9db(0x129)),_0x2f70ad[_0x20e9db(0x13d)](),_0x2076cf&&this[_0x20e9db(0xc0)]['on'](_0x20e9db(0xbf),()=>{const _0x5f5787=_0x20e9db,_0x450f40=document[_0x5f5787(0x15d)](this[_0x5f5787(0xc2)]+_0x5f5787(0x163))['querySelector'](_0x5f5787(0x136));_0x450f40[_0x5f5787(0xc3)]=_0x5f5787(0xc9),_0x450f40['textContent']='Loaded\x20completely',_0x450f40[_0x5f5787(0x132)]=!![];});}[_0x164b28(0xe3)](){const _0x69a851=_0x164b28,_0x596a56=document['createElement'](_0x69a851(0x136));_0x596a56[_0x69a851(0x180)]='Load\x20Cluster\x20Map',_0x596a56[_0x69a851(0xb2)](_0x69a851(0x14e),()=>{const _0x1b9b54=_0x69a851;_0x596a56[_0x1b9b54(0x132)]=!![],_0x596a56[_0x1b9b54(0x180)]=_0x1b9b54(0x189),this[_0x1b9b54(0x170)](this['source_url'],!![]);}),_0x596a56['className']='btn\x20w-100\x20btn-info\x20text-white\x20p-2',document[_0x69a851(0x15d)](this[_0x69a851(0xc2)]+_0x69a851(0x163))['appendChild'](_0x596a56);}[_0x164b28(0xae)](_0xd2c9a6){this['map']['setMaxZoom'](_0xd2c9a6);}['setMinZoom'](_0x47f7c6){const _0x3cf01e=_0x164b28;this['map'][_0x3cf01e(0x173)](_0x47f7c6);}[_0x164b28(0x144)](_0x1d58fb){const _0x27a9d8=_0x164b28;this[_0x27a9d8(0xc0)]['setMaxBounds'](_0x1d58fb);}[_0x164b28(0xe1)](){const _0x1668a4=_0x164b28;this[_0x1668a4(0xc0)][_0x1668a4(0x16d)](new mapboxgl['GeolocateControl']({'positionOptions':{'enableHighAccuracy':!![]},'trackUserLocation':!![]}));}[_0x164b28(0xb0)](){const _0x25c32a=_0x164b28;this[_0x25c32a(0xc0)][_0x25c32a(0x16d)](new mapboxgl['NavigationControl']());}[_0x164b28(0xf1)](){const _0x43a618=_0x164b28;this[_0x43a618(0xc0)][_0x43a618(0x16d)](new mapboxgl['ScaleControl']());}[_0x164b28(0x182)](){const _0x1c9a7f=_0x164b28;this[_0x1c9a7f(0xc0)][_0x1c9a7f(0x16d)](new mapboxgl['FullscreenControl']());}[_0x164b28(0x103)](_0x55786b=!![],_0x3bf337=![],_0x2f45d2=![]){const _0x55bf04=_0x164b28;this['draw']=new MapboxDraw({'displayControlsDefault':![],'controls':{'polygon':_0x55786b,'point':_0x3bf337,'line_string':_0x2f45d2,'trash':!![]}}),this[_0x55bf04(0xc0)]['addControl'](this[_0x55bf04(0xbd)]);}[_0x164b28(0x13a)](){const _0x56a05a=_0x164b28;this[_0x56a05a(0xbd)]?this[_0x56a05a(0xc0)]['on'](_0x56a05a(0xad),_0x31f368=>{const _0x49c896=_0x56a05a,_0x5365db=_0x31f368[_0x49c896(0xb4)][0x0];if(_0x5365db&&_0x5365db[_0x49c896(0x119)][_0x49c896(0x11b)]===_0x49c896(0xf6)){const _0x222618=this[_0x49c896(0xf4)](_0x5365db);console['log'](_0x49c896(0x128)+_0x222618+_0x49c896(0x152)),document['getElementById'](this[_0x49c896(0xc2)]+'drawer')[_0x49c896(0x183)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x20\x22text-left\x20p-2\x20bg-light\x20rounded\x20\x20my-2\x20h5\x22>Area:\x20'+formatNumber(_0x222618)+_0x49c896(0xee);}}):console[_0x56a05a(0x167)](_0x56a05a(0x11d));}[_0x164b28(0x120)](){const _0x3b5736=_0x164b28;this[_0x3b5736(0xbd)]?this[_0x3b5736(0xc0)]['on'](_0x3b5736(0xad),_0x444a18=>{const _0x50bf25=_0x3b5736,_0x4e599a=_0x444a18[_0x50bf25(0xb4)][0x0];if(_0x4e599a&&_0x4e599a[_0x50bf25(0x119)][_0x50bf25(0x11b)]===_0x50bf25(0xf6)){const _0x12d514=_0x4e599a[_0x50bf25(0x119)][_0x50bf25(0x156)][0x0],_0x218b50=_0x12d514[_0x50bf25(0xff)]((_0x5d7a4a,_0x26b55b)=>{const _0x15661e=_0x50bf25;return _0x5d7a4a[_0x15661e(0x124)](_0x26b55b);},new mapboxgl[(_0x50bf25(0x178))](_0x12d514[0x0],_0x12d514[0x0])),_0x2d9e74=_0x218b50[_0x50bf25(0xe4)](),_0x2d2cc6=_0x218b50[_0x50bf25(0x10f)](),_0x537414=_0x218b50['getCenter'](),_0x5f306e={'width':window[_0x50bf25(0x158)],'height':window[_0x50bf25(0x108)]},_0x25376a=this[_0x50bf25(0x115)](_0x218b50,_0x5f306e),_0x31b449=_0x50bf25(0x17d)+_0x537414[_0x50bf25(0xf5)]+','+_0x537414[_0x50bf25(0x12d)]+','+_0x25376a+'/1200x1200?access_token='+mapboxgl[_0x50bf25(0x100)];document['getElementById'](this[_0x50bf25(0xc2)]+_0x50bf25(0x127))[_0x50bf25(0x183)]=_0x50bf25(0x146)+_0x31b449+'\x22\x20target=\x27_blank\x27\x20class=\x22text-decoration-none\x20btn\x20btn-light\x20h6\x22\x20download>Download\x20Satellite\x20Image</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}}):console['log']('addDrawing\x20First');}[_0x164b28(0x115)](_0x1a7912,_0x4425a3){const _0x5bb037=_0x164b28,_0x103e6b={'height':0x100,'width':0x100},_0x200669=0x16;function _0x474c5b(_0x15ee95){const _0x583524=_0x137d,_0x2a2236=Math['sin'](_0x15ee95*Math['PI']/0xb4),_0x50ac0b=Math[_0x583524(0x167)]((0x1+_0x2a2236)/(0x1-_0x2a2236))/0x2;return Math['max'](Math['min'](_0x50ac0b,Math['PI']),-Math['PI'])/0x2;}function _0x1ef946(_0x18e17b,_0x225a05,_0x30d6f6){const _0x3fe54c=_0x137d;return Math['floor'](Math['log'](_0x18e17b/_0x225a05/_0x30d6f6)/Math[_0x3fe54c(0xcb)]);}const _0x4d9a5e=(_0x474c5b(_0x1a7912[_0x5bb037(0xd0)]())-_0x474c5b(_0x1a7912[_0x5bb037(0xab)]()))/Math['PI'],_0x478b9d=_0x1a7912[_0x5bb037(0x17a)]()-_0x1a7912[_0x5bb037(0xfd)](),_0x3385b7=(_0x478b9d<0x0?_0x478b9d+0x168:_0x478b9d)/0x168,_0x28e1f2=_0x1ef946(_0x4425a3[_0x5bb037(0x15e)],_0x103e6b[_0x5bb037(0x15e)],_0x4d9a5e),_0x3f107d=_0x1ef946(_0x4425a3[_0x5bb037(0xdf)],_0x103e6b[_0x5bb037(0xdf)],_0x3385b7);return Math[_0x5bb037(0x17e)](_0x28e1f2,_0x3f107d,_0x200669);}['PolygonArea'](_0x43c3ac){const _0x4bfd25=_0x164b28;if(_0x43c3ac['geometry']['type']===_0x4bfd25(0xf6))return turf['area'](_0x43c3ac);return 0x0;}}MapCard[_0x164b28(0x18a)](_0x164b28(0x106)),card=new MapCard(_0x164b28(0xd6),_0x164b28(0xce),_0x164b28(0x184),{'container':_0x164b28(0x16c),'style':_0x164b28(0xf3),'center':[0x24,0x22],'zoom':6.5}),card[_0x164b28(0xb5)](),card[_0x164b28(0xef)](),card[_0x164b28(0x182)](),card[_0x164b28(0xb0)](),card[_0x164b28(0xf1)](),card[_0x164b28(0x12c)](),card[_0x164b28(0xe1)](),card[_0x164b28(0xd5)]([0x8,'https://geoai.cnrs.edu.lb/geoaigeoserver/static/deja_clustered/lebanon_6.json']),card['setCache']([0x9,_0x164b28(0x16f)]),card[_0x164b28(0xd5)]([0xa,_0x164b28(0x145)]),card[_0x164b28(0xd5)]([0xb,_0x164b28(0xcc)]),card[_0x164b28(0xd5)]([0xc,_0x164b28(0x13e)]),card[_0x164b28(0xd5)]([0xd,_0x164b28(0x164)]),card[_0x164b28(0xd5)]([0xf,_0x164b28(0x186)]),card[_0x164b28(0xac)](_0x164b28(0x187)),card[_0x164b28(0xbc)](),wheat_card=new MapCard(_0x164b28(0xed),_0x164b28(0xd1),'main_cards_body',{'container':_0x164b28(0xf9),'style':'mapbox://styles/mapbox/satellite-streets-v12','center':[0x24,0x22],'zoom':6.5}),wheat_card['printCard'](),wheat_card[_0x164b28(0xef)](),wheat_card[_0x164b28(0x182)](),wheat_card[_0x164b28(0xb0)](),wheat_card['addScale'](),wheat_card[_0x164b28(0x12c)](),wheat_card[_0x164b28(0xe1)](),wheat_card['setSourceUrl']('https://geoai.cnrs.edu.lb/geoaigeoserver/wheat'),wheat_card['serverCluster'](),wheat_card['addTimeStep'](_0x164b28(0xea),_0x164b28(0x118)),wheat_card[_0x164b28(0xdc)](_0x164b28(0xda),_0x164b28(0x121)),wheat_card[_0x164b28(0xdc)](_0x164b28(0x174),'&year=2018'),wheat_card[_0x164b28(0xdc)](_0x164b28(0x139),_0x164b28(0xba)),wheat_card[_0x164b28(0xdc)](_0x164b28(0xcd),'&year=2020'),wheat_card['addTimeStep'](_0x164b28(0x10d),_0x164b28(0x13b)),wheat_card[_0x164b28(0xdc)](_0x164b28(0x17b),'&year=2022'),wheat_card[_0x164b28(0xdc)](_0x164b28(0xc5),_0x164b28(0x175)),wheat_card[_0x164b28(0xc4)]();



</script>